{"id":1099252121,"lang":"cpp","lang_name":"C++","time":"3 weeks, 1 day","timestamp":1700035529,"status":10,"status_display":"Accepted","runtime":"0 ms","url":"/submissions/detail/1099252121/","is_pending":"Not Pending","title":"Validate IP Address","memory":"6.7 MB","code":"class Solution {\npublic:\n    string validIPAddress(string queryIP) {\n        for(char c:queryIP)\n        // Adding one extra delimiter to segregate the last token\n        if(c=='.') return checkIPv4(queryIP+'.')?\"IPv4\":\"Neither\";\n        else if(c==':') return checkIPv6(queryIP+':')?\"IPv6\":\"Neither\";\n        return \"Neither\";\n    }\n    bool checkIPv4(string IP) {\n        stringstream ss(IP);\n        string x;\n        int tokens=0;\n        while(getline(ss,x,'.')) {\n            tokens++;\n            if(x==\"\") return false;\n            if(hasLeadingZeroesOrChars(x)) return false;\n            if(x.length()>3) return false; // Otherwise, stoi might go out of range\n            int n=stoi(x);\n            if(n<0 || n>255) return false;\n        }\n        return tokens==4;\n    }\n    bool checkIPv6(string IP) {\n        stringstream ss(IP);\n        string x;\n        int tokens=0;\n        while(getline(ss,x,':')) {\n            tokens++;\n            if(x.length()<1 || x.length()>4) return false;\n            if(notHex(x)) return false;\n        }\n        return tokens==8;\n    }\n    // To check if the passed token is not a valid Hexadecimal String (For IPv6)\n    bool notHex(string x) {\n        // Leading Zeroes are permitted in IPv6 tokens\n        for(char c:x)\n        if((c>='a' && c<='f') || (c>='A' && c<='F') || (c>='0' && c<='9')) continue;\n        else return true;\n        return false;\n    }\n    // To check if the passed token has Leading Zeroes or Characters (For IPv4)\n    bool hasLeadingZeroesOrChars(string x) {\n        if(x[0]=='0' && x.length()!=1) return true; // Just 0 is a valid token \n        for(char c:x) if(isalpha(c)) return true;\n        return false;\n    }\n};","compare_result":"11111111111111111111111111111111111111111111111111111111111111111111111111","title_slug":"validate-ip-address","has_notes":false,"flag_type":1}